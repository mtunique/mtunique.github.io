<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>【Tornado笔记】tornado.web.Application | mtunique blog</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="【Tornado笔记】tornado.web.Application"><meta property="og:description" content="从tornado的 Hello,world 开始分析tornado的源码
import tornado.ioloop import tornado.web class MainHandler(tornado.web.RequestHandler): def get(self): self.write(&#34;Hello, world&#34;) application = tornado.web.Application([ (r&#34;/&#34;, MainHandler), ]) if __name__ == &#34;__main__&#34;: application.listen(8888) tornado.ioloop.IOLoop.instance().start() 很容易可以看出，通过继承RequestHandler类定义自己的处理类，来处理请求。Application类的对象来处理URI的路由（将URIr&#34;/&#34;于处理类MainHandler组成tuple，关联起来）。
tornado.web.Application类 一、init 简化版代码：
def __init__(self, handlers=None, default_host=&#34;&#34;, transforms=None, **settings): if transforms is None: self.transforms = [] if settings.get(&#34;compress_response&#34;) or settings.get(&#34;gzip&#34;): self.transforms.append(GZipContentEncoding) else: self.transforms = transforms ...... self.ui_modules = {'linkify': _linkify, 'xsrf_form_html': _xsrf_form_html, 'Template': TemplateModule, } self.ui_methods = {} self._load_ui_modules(settings.get(&#34;ui_modules&#34;, {})) self._load_ui_methods(settings.get(&#34;ui_methods&#34;, {})) if self.settings.get(&#34;static_path&#34;): ."><meta property="og:type" content="article"><meta property="og:url" content="https://mtunique.com/posts/tornado_application/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-11-28T13:30:27+08:00"><meta property="article:modified_time" content="2014-11-28T13:30:27+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="【Tornado笔记】tornado.web.Application"><meta name=twitter:description content="从tornado的 Hello,world 开始分析tornado的源码
import tornado.ioloop import tornado.web class MainHandler(tornado.web.RequestHandler): def get(self): self.write(&#34;Hello, world&#34;) application = tornado.web.Application([ (r&#34;/&#34;, MainHandler), ]) if __name__ == &#34;__main__&#34;: application.listen(8888) tornado.ioloop.IOLoop.instance().start() 很容易可以看出，通过继承RequestHandler类定义自己的处理类，来处理请求。Application类的对象来处理URI的路由（将URIr&#34;/&#34;于处理类MainHandler组成tuple，关联起来）。
tornado.web.Application类 一、init 简化版代码：
def __init__(self, handlers=None, default_host=&#34;&#34;, transforms=None, **settings): if transforms is None: self.transforms = [] if settings.get(&#34;compress_response&#34;) or settings.get(&#34;gzip&#34;): self.transforms.append(GZipContentEncoding) else: self.transforms = transforms ...... self.ui_modules = {'linkify': _linkify, 'xsrf_form_html': _xsrf_form_html, 'Template': TemplateModule, } self.ui_methods = {} self._load_ui_modules(settings.get(&#34;ui_modules&#34;, {})) self._load_ui_methods(settings.get(&#34;ui_methods&#34;, {})) if self.settings.get(&#34;static_path&#34;): ."><link rel=stylesheet href=https://mtunique.com/css/style-dark.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://mtunique.com/images/favicon.ico><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-65601165-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=/>Home</a></li><li><a href=/posts>Writings</a></li><li><a href=/tags>Tags</a></li><li><a href=/about>About</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://mtunique.com/posts/tornado_ioloop/ aria-label=Previous><i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i></a></li><li><a class=icon href=https://mtunique.com/posts/spark_base/ aria-label=Next><i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i></a></li><li><a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&text=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&title=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&is_video=false&description=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application&body=Check out this article: https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&title=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&title=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&name=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application&description=%e4%bb%8etornado%e7%9a%84%20Hello%2cworld%c2%a0%e5%bc%80%e5%a7%8b%e5%88%86%e6%9e%90tornado%e7%9a%84%e6%ba%90%e7%a0%81%0aimport%20tornado.ioloop%20import%20tornado.web%20class%20MainHandler%28tornado.web.RequestHandler%29%3a%20def%20get%28self%29%3a%20self.write%28%26%2334%3bHello%2c%20world%26%2334%3b%29%20application%20%3d%20tornado.web.Application%28%5b%20%28r%26%2334%3b%2f%26%2334%3b%2c%20MainHandler%29%2c%20%5d%29%20if%20__name__%20%3d%3d%20%26%2334%3b__main__%26%2334%3b%3a%20application.listen%288888%29%20tornado.ioloop.IOLoop.instance%28%29.start%28%29%20%e5%be%88%e5%ae%b9%e6%98%93%e5%8f%af%e4%bb%a5%e7%9c%8b%e5%87%ba%ef%bc%8c%e9%80%9a%e8%bf%87%e7%bb%a7%e6%89%bfRequestHandler%e7%b1%bb%e5%ae%9a%e4%b9%89%e8%87%aa%e5%b7%b1%e7%9a%84%e5%a4%84%e7%90%86%e7%b1%bb%ef%bc%8c%e6%9d%a5%e5%a4%84%e7%90%86%e8%af%b7%e6%b1%82%e3%80%82Application%e7%b1%bb%e7%9a%84%e5%af%b9%e8%b1%a1%e6%9d%a5%e5%a4%84%e7%90%86URI%e7%9a%84%e8%b7%af%e7%94%b1%ef%bc%88%e5%b0%86URIr%26quot%3b%2f%26quot%3b%e4%ba%8e%e5%a4%84%e7%90%86%e7%b1%bbMainHandler%e7%bb%84%e6%88%90tuple%ef%bc%8c%e5%85%b3%e8%81%94%e8%b5%b7%e6%9d%a5%ef%bc%89%e3%80%82%0atornado.web.Application%e7%b1%bb%20%e4%b8%80%e3%80%81init%20%e7%ae%80%e5%8c%96%e7%89%88%e4%bb%a3%e7%a0%81%ef%bc%9a%0adef%20__init__%28self%2c%20handlers%3dNone%2c%20default_host%3d%26%2334%3b%26%2334%3b%2c%20transforms%3dNone%2c%20%2a%2asettings%29%3a%20if%20transforms%20is%20None%3a%20self.transforms%20%3d%20%5b%5d%20if%20settings.get%28%26%2334%3bcompress_response%26%2334%3b%29%20or%20settings.get%28%26%2334%3bgzip%26%2334%3b%29%3a%20self.transforms.append%28GZipContentEncoding%29%20else%3a%20self.transforms%20%3d%20transforms%20......%20self.ui_modules%20%3d%20%7b%26%2339%3blinkify%26%2339%3b%3a%20_linkify%2c%20%26%2339%3bxsrf_form_html%26%2339%3b%3a%20_xsrf_form_html%2c%20%26%2339%3bTemplate%26%2339%3b%3a%20TemplateModule%2c%20%7d%20self.ui_methods%20%3d%20%7b%7d%20self._load_ui_modules%28settings.get%28%26%2334%3bui_modules%26%2334%3b%2c%20%7b%7d%29%29%20self._load_ui_methods%28settings.get%28%26%2334%3bui_methods%26%2334%3b%2c%20%7b%7d%29%29%20if%20self.settings.get%28%26%2334%3bstatic_path%26%2334%3b%29%3a%20." aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&t=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents><ul><li><ul><li><a href=#tornadowebapplication类>tornado.web.Application类</a><ul><li><a href=#一init>一、init</a></li><li><a href=#二add_handle>二、add_handle</a></li><li><a href=#三listen>三、listen</a></li></ul></li></ul></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">【Tornado笔记】tornado.web.Application</h1><div class=meta><div class=postdate><time datetime="2014-11-28 13:30:27 +0800 +0800" itemprop=datePublished>2014-11-28</time></div><div class=article-read-time><i class="far fa-clock"></i>
6 minute read</div><div class=article-category><i class="fas fa-archive"></i>
<a class=category-link href=/categories/python>python</a></div><div class=article-tag><i class="fas fa-tag"></i>
<a class=tag-link href=/tags/python rel=tag>python</a></div></div></header><div class=content itemprop=articleBody><p>从tornado的 Hello,world 开始分析tornado的源码</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> tornado.ioloop
<span style=color:#f92672>import</span> tornado.web

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainHandler</span>(tornado<span style=color:#f92672>.</span>web<span style=color:#f92672>.</span>RequestHandler):
    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get</span>(self):
        self<span style=color:#f92672>.</span>write(<span style=color:#e6db74>&#34;Hello, world&#34;</span>)

application <span style=color:#f92672>=</span> tornado<span style=color:#f92672>.</span>web<span style=color:#f92672>.</span>Application([
    (<span style=color:#e6db74>r</span><span style=color:#e6db74>&#34;/&#34;</span>, MainHandler),
])

<span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
    application<span style=color:#f92672>.</span>listen(<span style=color:#ae81ff>8888</span>)
    tornado<span style=color:#f92672>.</span>ioloop<span style=color:#f92672>.</span>IOLoop<span style=color:#f92672>.</span>instance()<span style=color:#f92672>.</span>start()
</code></pre></div><p>很容易可以看出，通过继承<code>RequestHandler</code>类定义自己的处理类，来处理请求。<code>Application</code>类的对象来处理URI的路由（将URI<code>r"/"</code>于处理类<code>MainHandler</code>组成tuple，关联起来）。</p><h3 id=tornadowebapplication类>tornado.web.Application类</h3><h4 id=一init>一、init</h4><p>简化版代码：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> __init__(self, handlers<span style=color:#f92672>=</span>None, default_host<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>, transforms<span style=color:#f92672>=</span>None,
             <span style=color:#f92672>**</span>settings):
    <span style=color:#66d9ef>if</span> transforms <span style=color:#f92672>is</span> None:
        self<span style=color:#f92672>.</span>transforms <span style=color:#f92672>=</span> []
        <span style=color:#66d9ef>if</span> settings<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;compress_response&#34;</span>) <span style=color:#f92672>or</span> settings<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;gzip&#34;</span>):
            self<span style=color:#f92672>.</span>transforms<span style=color:#f92672>.</span>append(GZipContentEncoding)
    <span style=color:#66d9ef>else</span>:
        self<span style=color:#f92672>.</span>transforms <span style=color:#f92672>=</span> transforms
    <span style=color:#f92672>......</span>
    self<span style=color:#f92672>.</span>ui_modules <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;linkify&#39;</span>: _linkify,
                       <span style=color:#e6db74>&#39;xsrf_form_html&#39;</span>: _xsrf_form_html,
                       <span style=color:#e6db74>&#39;Template&#39;</span>: TemplateModule,
                       }
    self<span style=color:#f92672>.</span>ui_methods <span style=color:#f92672>=</span> {}
    self<span style=color:#f92672>.</span>_load_ui_modules(settings<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;ui_modules&#34;</span>, {}))
    self<span style=color:#f92672>.</span>_load_ui_methods(settings<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;ui_methods&#34;</span>, {}))

    <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>settings<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;static_path&#34;</span>):
        <span style=color:#f92672>......</span>
    <span style=color:#66d9ef>if</span> handlers:
        self<span style=color:#f92672>.</span>add_handlers(<span style=color:#e6db74>&#34;.*$&#34;</span>, handlers)

    <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>settings<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;debug&#39;</span>):
        self<span style=color:#f92672>.</span>settings<span style=color:#f92672>.</span>setdefault(<span style=color:#e6db74>&#39;autoreload&#39;</span>, True)
        <span style=color:#f92672>......</span>
    <span style=color:#75715e># Automatically reload modified modules</span>
    <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>settings<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;autoreload&#39;</span>):
        <span style=color:#f92672>from</span> tornado <span style=color:#f92672>import</span> autoreload
        autoreload<span style=color:#f92672>.</span>start()
</code></pre></div><p>参数handlers是一个list，list里每个object是一个URLSpec的对象tuple。tuple可以是二到四个element，分别是URI的正则、handler类、用于初始化URLSpec的kwargs、handler的name。 （下面add_handlers详细说明）</p><p>参数settings是一个dict，所有settings的具体用法</p><ol><li><p>初始化transforms（HTTP传输压缩等，默认GZipContentEncoding 和 ChunkedTransferEncoding 。也可以自己实现，需要实现 transform_first_chunk 和 transform_chunk 接口，RequestHandler 中的 flush 调用，剖析RequestHandler时详细介绍），UI模块</p></li><li><p>通过settings的值来初始化静态文件处理Handler，包括：</p><ul><li>static_path</li><li>static_url_prefix</li><li>static_handler_class</li><li>static_handler_args</li><li>static_hash_cache</li></ul></li><li><p>初始化其他settings</p></li><li><p>调用add_handlers方法添加handlers。 5.加载自动重新加载模块（当检测到代码被修改后重构启动）</p></li></ol><h4 id=二add_handle>二、add_handle</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>add_handlers</span>(self, host_pattern, host_handlers):
    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> host_pattern<span style=color:#f92672>.</span>endswith(<span style=color:#e6db74>&#34;$&#34;</span>):
        host_pattern <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#34;$&#34;</span>
    handlers <span style=color:#f92672>=</span> []
    <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>handlers <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>handlers[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>]<span style=color:#f92672>.</span>pattern <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;.*$&#39;</span>:
        self<span style=color:#f92672>.</span>handlers<span style=color:#f92672>.</span>insert(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, (re<span style=color:#f92672>.</span>compile(host_pattern), handlers))
    <span style=color:#66d9ef>else</span>:
        self<span style=color:#f92672>.</span>handlers<span style=color:#f92672>.</span>append((re<span style=color:#f92672>.</span>compile(host_pattern), handlers))

    <span style=color:#66d9ef>for</span> spec <span style=color:#f92672>in</span> host_handlers:
        <span style=color:#66d9ef>if</span> isinstance(spec, (tuple, list)):
            <span style=color:#66d9ef>assert</span> len(spec) <span style=color:#f92672>in</span> (<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>)
            spec <span style=color:#f92672>=</span> URLSpec(<span style=color:#f92672>*</span>spec)
        handlers<span style=color:#f92672>.</span>append(spec)
        <span style=color:#66d9ef>if</span> spec<span style=color:#f92672>.</span>name:
            <span style=color:#66d9ef>if</span> spec<span style=color:#f92672>.</span>name <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>named_handlers:
                app_log<span style=color:#f92672>.</span>warning(
                    <span style=color:#e6db74>&#34;Multiple handlers named </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>; replacing previous value&#34;</span>,
                    spec<span style=color:#f92672>.</span>name)
            self<span style=color:#f92672>.</span>named_handlers[spec<span style=color:#f92672>.</span>name] <span style=color:#f92672>=</span> spec
</code></pre></div><p>将<code>host_pattern</code>和<code>handlers</code>，组成tuple加到<code>self.handlers</code>的末尾但是在匹配所有域名的tuple前。</p><p>由<code>spec = URLSpec(*spec)</code>易看出初始化Application的时候的第一个参数存的tuple是用来初始化URLSpec的所以参数顺序应该和URLSpec要求的一样（<code>def __init__(self, pattern, handler, kwargs=None, name=None)</code>）。</p><p>用过第四个参数name来构造反响代理，储存在<code>Application</code>的<code>named_handlers</code>（dict）里。</p><p>hello world里调用了<code>Application.listen</code>和<code>tornado.ioloop.IOLoop.instance().start()</code>（以后会详细介绍<code>IOLoop</code>），来真正启动。</p><h4 id=三listen>三、listen</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>listen</span>(self, port, address<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#f92672>**</span>kwargs):
        <span style=color:#f92672>from</span> tornado.httpserver <span style=color:#f92672>import</span> HTTPServer
        server <span style=color:#f92672>=</span> HTTPServer(self, <span style=color:#f92672>**</span>kwargs)
        server<span style=color:#f92672>.</span>listen(port, address)
</code></pre></div><p>实例化一个<code>HTTPServer</code>，将<code>Application</code>绑定上去。</p><p>当有请求的时候<code>HTTPServer</code>将会调用<code>Application.start_request</code>来将<code>application</code>和<code>connection</code>绑定在一起初始化一个<code>_RequestDispatcher</code>的对象，由其来处理请求的路由，从而利用已经通过<code>add_handler</code>建立的路由规则。</p></div></article><div class=blog-post-comments><div id=disqus_thread><script type=text/javascript>(function(){var a=document.createElement('script'),b;a.type='text/javascript',a.async=!0,b='mtunique',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/>Home</a></li><li><a href=/posts>Writings</a></li><li><a href=/tags>Tags</a></li><li><a href=/about>About</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><ul><li><a href=#tornadowebapplication类>tornado.web.Application类</a><ul><li><a href=#一init>一、init</a></li><li><a href=#二add_handle>二、add_handle</a></li><li><a href=#三listen>三、listen</a></li></ul></li></ul></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&text=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&title=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&is_video=false&description=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application&body=Check out this article: https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&title=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&title=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&name=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application&description=%e4%bb%8etornado%e7%9a%84%20Hello%2cworld%c2%a0%e5%bc%80%e5%a7%8b%e5%88%86%e6%9e%90tornado%e7%9a%84%e6%ba%90%e7%a0%81%0aimport%20tornado.ioloop%20import%20tornado.web%20class%20MainHandler%28tornado.web.RequestHandler%29%3a%20def%20get%28self%29%3a%20self.write%28%26%2334%3bHello%2c%20world%26%2334%3b%29%20application%20%3d%20tornado.web.Application%28%5b%20%28r%26%2334%3b%2f%26%2334%3b%2c%20MainHandler%29%2c%20%5d%29%20if%20__name__%20%3d%3d%20%26%2334%3b__main__%26%2334%3b%3a%20application.listen%288888%29%20tornado.ioloop.IOLoop.instance%28%29.start%28%29%20%e5%be%88%e5%ae%b9%e6%98%93%e5%8f%af%e4%bb%a5%e7%9c%8b%e5%87%ba%ef%bc%8c%e9%80%9a%e8%bf%87%e7%bb%a7%e6%89%bfRequestHandler%e7%b1%bb%e5%ae%9a%e4%b9%89%e8%87%aa%e5%b7%b1%e7%9a%84%e5%a4%84%e7%90%86%e7%b1%bb%ef%bc%8c%e6%9d%a5%e5%a4%84%e7%90%86%e8%af%b7%e6%b1%82%e3%80%82Application%e7%b1%bb%e7%9a%84%e5%af%b9%e8%b1%a1%e6%9d%a5%e5%a4%84%e7%90%86URI%e7%9a%84%e8%b7%af%e7%94%b1%ef%bc%88%e5%b0%86URIr%26quot%3b%2f%26quot%3b%e4%ba%8e%e5%a4%84%e7%90%86%e7%b1%bbMainHandler%e7%bb%84%e6%88%90tuple%ef%bc%8c%e5%85%b3%e8%81%94%e8%b5%b7%e6%9d%a5%ef%bc%89%e3%80%82%0atornado.web.Application%e7%b1%bb%20%e4%b8%80%e3%80%81init%20%e7%ae%80%e5%8c%96%e7%89%88%e4%bb%a3%e7%a0%81%ef%bc%9a%0adef%20__init__%28self%2c%20handlers%3dNone%2c%20default_host%3d%26%2334%3b%26%2334%3b%2c%20transforms%3dNone%2c%20%2a%2asettings%29%3a%20if%20transforms%20is%20None%3a%20self.transforms%20%3d%20%5b%5d%20if%20settings.get%28%26%2334%3bcompress_response%26%2334%3b%29%20or%20settings.get%28%26%2334%3bgzip%26%2334%3b%29%3a%20self.transforms.append%28GZipContentEncoding%29%20else%3a%20self.transforms%20%3d%20transforms%20......%20self.ui_modules%20%3d%20%7b%26%2339%3blinkify%26%2339%3b%3a%20_linkify%2c%20%26%2339%3bxsrf_form_html%26%2339%3b%3a%20_xsrf_form_html%2c%20%26%2339%3bTemplate%26%2339%3b%3a%20TemplateModule%2c%20%7d%20self.ui_methods%20%3d%20%7b%7d%20self._load_ui_modules%28settings.get%28%26%2334%3bui_modules%26%2334%3b%2c%20%7b%7d%29%29%20self._load_ui_methods%28settings.get%28%26%2334%3bui_methods%26%2334%3b%2c%20%7b%7d%29%29%20if%20self.settings.get%28%26%2334%3bstatic_path%26%2334%3b%29%3a%20." aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fmtunique.com%2fposts%2ftornado_application%2f&t=%e3%80%90Tornado%e7%ac%94%e8%ae%b0%e3%80%91tornado.web.Application" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC><i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2021 mtunique</div><div class=footer-right><nav><ul><li><a href=/>Home</a></li><li><a href=/posts>Writings</a></li><li><a href=/tags>Tags</a></li><li><a href=/about>About</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/js/main.js></script></html>